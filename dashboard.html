<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙƒÙŠØ© - Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', 'Arabic UI Display', Tahoma, Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1800px; margin: 0 auto; }
        .header { background: white; padding: 25px; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; }
        .header-left { display: flex; align-items: center; gap: 15px; }
        .header-left h1 { color: #667eea; font-size: 2.5rem; }
        .ai-indicator { background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; padding: 12px 20px; border-radius: 8px; display: flex; align-items: center; gap: 8px; font-weight: 600; }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s; font-family: inherit; font-size: 1rem; display: inline-flex; align-items: center; gap: 8px; }
        .btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .btn-primary { background: #667eea; color: white; }
        .btn-primary:hover:not(:disabled) { background: #764ba2; transform: translateY(-2px); }
        .btn-success { background: #48bb78; color: white; }
        .btn-success:hover:not(:disabled) { background: #38a169; }
        .btn-danger { background: #e53e3e; color: white; }
        .btn-danger:hover:not(:disabled) { background: #c53030; }
        .nav-tabs { display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; background: white; padding: 15px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); }
        .nav-tab { padding: 12px 20px; border: 2px solid transparent; background: #f0f0f0; cursor: pointer; border-radius: 8px; font-weight: 600; color: #4a5568; transition: all 0.3s; }
        .nav-tab:hover { background: #e2e8f0; border-color: #667eea; }
        .nav-tab.active { background: #667eea; color: white; }
        .content { display: none; }
        .content.active { display: block; }
        .table-wrapper { background: white; border-radius: 15px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); overflow-x: auto; margin-bottom: 30px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
        th { background: #f7fafc; padding: 15px; text-align: right; font-weight: 700; color: #2d3748; border-bottom: 2px solid #e2e8f0; }
        td { padding: 12px 15px; border-bottom: 1px solid #e2e8f0; color: #4a5568; }
        tr:hover { background: #f7fafc; }
        .badge { display: inline-block; padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; }
        .badge-ai { background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #2d3748; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px; font-family: inherit; font-size: 1rem; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal.active { display: flex; align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 40px; border-radius: 15px; width: 90%; max-width: 700px; max-height: 90vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; border-bottom: 2px solid #e2e8f0; padding-bottom: 15px; }
        .modal-header h2 { color: #2d3748; }
        .close-btn { font-size: 2rem; color: #718096; cursor: pointer; border: none; background: none; }
        .stats-section { background: white; padding: 25px; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .stats-section h2 { margin-bottom: 20px; color: #2d3748; }
        .lesson-card { background: white; padding: 20px; border-radius: 10px; margin-bottom: 15px; border-right: 4px solid #667eea; }
        .lesson-card h4 { color: #2d3748; margin-bottom: 10px; }
        .ai-suggestions { background: #f0fff4; padding: 15px; border-radius: 8px; margin-top: 10px; border-right: 3px solid #48bb78; }
        @media (max-width: 768px) { .header { flex-direction: column; } .nav-tabs { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <div style="font-size: 3rem;">ğŸ“š</div>
                <h1>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙƒÙŠØ©</h1>
            </div>
            <div class="ai-indicator">
                ğŸ¤– Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ Ù†Ø´Ø·
            </div>
        </div>

        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchTab('overview')">ğŸ“Š Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</div>
            <div class="nav-tab" onclick="switchTab('subjects')">ğŸ“š Ø§Ù„Ù…ÙˆØ§Ø¯</div>
            <div class="nav-tab" onclick="switchTab('lessons')">ğŸ“– Ø§Ù„Ø¯Ø±ÙˆØ³</div>
            <div class="nav-tab" onclick="switchTab('videos')">ğŸ¬ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</div>
            <div class="nav-tab" onclick="switchTab('exercises')">âœï¸ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†</div>
            <div class="nav-tab" onclick="switchTab('ai')">ğŸ¤– Ø±Ø¤Ù‰ Ø°ÙƒÙŠØ©</div>
        </div>

        <div id="overview" class="content active">
            <div class="stats-section">
                <h2>ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h2>
                <table>
                    <tr>
                        <td><strong>Ø§Ù„Ù…ÙˆØ§Ø¯:</strong> <span id="total-subjects">8</span></td>
                        <td><strong>Ø§Ù„Ø¯Ø±ÙˆØ³:</strong> <span id="total-lessons">0</span></td>
                        <td><strong>Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª:</strong> <span id="total-videos">0</span></td>
                        <td><strong>Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†:</strong> <span id="total-exercises">0</span></td>
                    </tr>
                </table>
            </div>
        </div>

        <div id="subjects" class="content">
            <div class="stats-section">
                <h2>ğŸ“š Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</h2>
            </div>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Ø§Ù„Ù…Ø§Ø¯Ø©</th>
                            <th>Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</th>
                            <th>Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</th>
                        </tr>
                    </thead>
                    <tbody id="subjects-tbody"></tbody>
                </table>
            </div>
        </div>

        <div id="lessons" class="content">
            <div class="stats-section">
                <h2>ğŸ“– Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯Ø±ÙˆØ³</h2>
                <button class="btn btn-success" onclick="openAddLessonModal()">â• Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³</button>
            </div>
            <div id="lessons-list"></div>
        </div>

        <div id="videos" class="content">
            <div class="stats-section">
                <h2>ğŸ¬ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h2>
                <button class="btn btn-success" onclick="openAddVideoModal()">â• Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ</button>
            </div>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</th>
                            <th>Ø§Ù„Ø¯Ø±Ø³</th>
                            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="videos-tbody"></tbody>
                </table>
            </div>
        </div>

        <div id="exercises" class="content">
            <div class="stats-section">
                <h2>âœï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†</h2>
                <button class="btn btn-success" onclick="openAddExerciseModal()">â• Ø¥Ø¶Ø§ÙØ© ØªÙ…Ø±ÙŠÙ†</button>
            </div>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Ø§Ù„Ø³Ø¤Ø§Ù„</th>
                            <th>Ø§Ù„Ù†ÙˆØ¹</th>
                            <th>ØªÙ‚ÙŠÙŠÙ… Ø°ÙƒÙŠ</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="exercises-tbody"></tbody>
                </table>
            </div>
        </div>

        <div id="ai" class="content">
            <div class="stats-section">
                <h2>ğŸ¤– Ø§Ù„Ø±Ø¤Ù‰ ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø°ÙƒÙŠØ©</h2>
                <div id="ai-content"></div>
            </div>
        </div>
    </div>

    <div id="addLessonModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³ Ø°ÙƒÙŠ</h2>
                <button class="close-btn" onclick="closeModal('addLessonModal')">Ã—</button>
            </div>
            <div class="form-group">
                <label>Ø§Ø³Ù… Ø§Ù„Ø¯Ø±Ø³</label>
                <input type="text" id="lesson-title">
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ù…Ø§Ø¯Ø©</label>
                <select id="lesson-subject"></select>
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ù…Ø³ØªÙˆÙ‰</label>
                <select id="lesson-level">
                    <option value="3">Ø§Ù„Ø³Ù†Ø© 3</option>
                    <option value="4">Ø§Ù„Ø³Ù†Ø© 4</option>
                    <option value="5">Ø§Ù„Ø³Ù†Ø© 5</option>
                    <option value="6">Ø§Ù„Ø³Ù†Ø© 6</option>
                </select>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="lesson-ai" checked>
                    ğŸ¤– ÙØ¹Ù‘Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                </label>
            </div>
            <button class="btn btn-success" onclick="addLesson()" style="width:100%;">âœ“ Ø¥Ø¶Ø§ÙØ©</button>
        </div>
    </div>

    <div id="addVideoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ Ø°ÙƒÙŠ</h2>
                <button class="close-btn" onclick="closeModal('addVideoModal')">Ã—</button>
            </div>
            <div class="form-group">
                <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</label>
                <input type="text" id="video-title">
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ø¯Ø±Ø³</label>
                <select id="video-lesson"></select>
            </div>
            <div class="form-group">
                <label>Ø±Ø§Ø¨Ø· YouTube</label>
                <input type="url" id="video-url">
            </div>
            <button class="btn btn-success" onclick="addVideo()" style="width:100%;">âœ“ Ø¥Ø¶Ø§ÙØ©</button>
        </div>
    </div>

    <div id="addExerciseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Ø¥Ø¶Ø§ÙØ© ØªÙ…Ø±ÙŠÙ† Ø°ÙƒÙŠ</h2>
                <button class="close-btn" onclick="closeModal('addExerciseModal')">Ã—</button>
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ø³Ø¤Ø§Ù„</label>
                <textarea id="exercise-question"></textarea>
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ø¯Ø±Ø³</label>
                <select id="exercise-lesson"></select>
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ù†ÙˆØ¹</label>
                <select id="exercise-type">
                    <option value="multiple">Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯</option>
                    <option value="blank">Ù…Ù„Ø¡ Ø§Ù„ÙØ±Ø§Øº</option>
                    <option value="true-false">ØµØ­/Ø®Ø·Ø£</option>
                    <option value="essay">Ø¥Ø¬Ø§Ø¨Ø© Ø­Ø±Ø©</option>
                </select>
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</label>
                <input type="text" id="exercise-answer">
            </div>
            <button class="btn btn-success" onclick="addExercise()" style="width:100%;">âœ“ Ø¥Ø¶Ø§ÙØ©</button>
        </div>
    </div>

    <script>
        const subjects = [
            {id:'arabic',name:'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',levels:[3,4,5,6]},
            {id:'math',name:'Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª',levels:[3,4,5,6]},
            {id:'french',name:'Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©',levels:[3,4,5,6]},
            {id:'science',name:'Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¸ Ø§Ù„Ø¹Ù„Ù…ÙŠ',levels:[3,4,5,6]},
            {id:'islamic',name:'Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©',levels:[3,4,5,6]},
            {id:'english',name:'Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©',levels:[5,6]},
            {id:'history',name:'Ø§Ù„ØªØ§Ø±ÙŠØ®',levels:[5,6]},
            {id:'geography',name:'Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§',levels:[5,6]}
        ];
        let lessons=[],videos=[],exercises=[];

        function switchTab(t){
            document.querySelectorAll('.content').forEach(e=>e.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(e=>e.classList.remove('active'));
            document.getElementById(t).classList.add('active');
            event.target.classList.add('active');
            update();
        }

        function update(){
            updateStats();
            updateSubjects();
            updateLessons();
            updateVideos();
            updateExercises();
            updateAI();
        }

        function updateStats(){
            document.getElementById('total-lessons').textContent=lessons.length;
            document.getElementById('total-videos').textContent=videos.length;
            document.getElementById('total-exercises').textContent=exercises.length;
        }

        function updateSubjects(){
            let h=subjects.map(s=>`<tr><td><strong>${s.name}</strong></td><td>${s.levels.join(', ')}</td><td><span class="badge badge-ai">ğŸ¤– Ù…ÙØ¹Ù‘Ù„</span></td></tr>`).join('');
            document.getElementById('subjects-tbody').innerHTML=h;
        }

        function openAddLessonModal(){
            let sel=document.getElementById('lesson-subject');
            sel.innerHTML=subjects.map(s=>`<option value="${s.id}">${s.name}</option>`).join('');
            document.getElementById('addLessonModal').classList.add('active');
        }

        function addLesson(){
            let t=document.getElementById('lesson-title').value,s=document.getElementById('lesson-subject').value,l=document.getElementById('lesson-level').value,ai=document.getElementById('lesson-ai').checked;
            if(!t||!s){alert('âš ï¸ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„');return;}
            lessons.push({id:'L'+Date.now(),title:t,subject:s,level:l,ai:ai});
            closeModal('addLessonModal');
            update();
            alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯Ø±Ø³');
        }

        function updateLessons(){
            let h=lessons.map(l=>`<div class="lesson-card"><h4>${l.title}</h4><div style="font-size:0.9rem;color:#718096;">ğŸ“š ${subjects.find(s=>s.id===l.subject)?.name} | Ø§Ù„Ø³Ù†Ø© ${l.level}</div>${l.ai?'<div class="ai-suggestions">ğŸ¤– ØªÙ‚ÙŠÙŠÙ… Ø°ÙƒÙŠ + ØªÙˆØµÙŠØ§Øª</div>':''}<button class="btn btn-danger" onclick="delLesson('${l.id}')" style="padding:8px 12px;margin-top:10px;">ğŸ—‘ï¸</button></div>`).join('');
            document.getElementById('lessons-list').innerHTML=h||'<p style="text-align:center;color:#999;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³</p>';
        }

        function openAddVideoModal(){
            let sel=document.getElementById('video-lesson');
            sel.innerHTML=lessons.map(l=>`<option value="${l.id}">${l.title}</option>`).join('');
            document.getElementById('addVideoModal').classList.add('active');
        }

        function addVideo(){
            let t=document.getElementById('video-title').value,l=document.getElementById('video-lesson').value,u=document.getElementById('video-url').value;
            if(!t||!l||!u){alert('âš ï¸ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„');return;}
            videos.push({id:'V'+Date.now(),title:t,lesson:l,url:u});
            closeModal('addVideoModal');
            update();
            alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ');
        }

        function updateVideos(){
            let h=videos.map(v=>`<tr><td>${v.title}</td><td>${lessons.find(l=>l.id===v.lesson)?.title||'N/A'}</td><td><span class="badge badge-ai">ğŸ¤– Ø°ÙƒÙŠ</span></td><td><button class="btn btn-danger" onclick="delVideo('${v.id}')" style="padding:8px 12px;">ğŸ—‘ï¸</button></td></tr>`).join('');
            document.getElementById('videos-tbody').innerHTML=h||'<tr><td colspan="4" style="text-align:center;color:#999;">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</td></tr>';
        }

        function openAddExerciseModal(){
            let sel=document.getElementById('exercise-lesson');
            sel.innerHTML=lessons.map(l=>`<option value="${l.id}">${l.title}</option>`).join('');
            document.getElementById('addExerciseModal').classList.add('active');
        }

        function addExercise(){
            let q=document.getElementById('exercise-question').value,l=document.getElementById('exercise-lesson').value,t=document.getElementById('exercise-type').value,a=document.getElementById('exercise-answer').value;
            if(!q||!l||!a){alert('âš ï¸ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„');return;}
            exercises.push({id:'E'+Date.now(),question:q,lesson:l,type:t,answer:a});
            closeModal('addExerciseModal');
            update();
            alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ…Ø±ÙŠÙ†');
        }

        function updateExercises(){
            let h=exercises.map(e=>`<tr><td>${e.question.substring(0,50)}...</td><td>${e.type}</td><td><span class="badge badge-ai">ğŸ¤– Ø°ÙƒÙŠ</span></td><td><button class="btn btn-danger" onclick="delExercise('${e.id}')" style="padding:8px 12px;">ğŸ—‘ï¸</button></td></tr>`).join('');
            document.getElementById('exercises-tbody').innerHTML=h||'<tr><td colspan="4" style="text-align:center;color:#999;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ…Ø§Ø±ÙŠÙ†</td></tr>';
        }

        function updateAI(){
            let content=`<div class="lesson-card"><h4>ğŸ¯ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø°ÙƒÙŠØ©</h4><ul style="list-style:none;"><li>âœ“ Ø£Ø¶Ù ${Math.max(1,5-lessons.length)} Ø¯Ø±ÙˆØ³</li><li>âœ“ Ø£Ø¶Ù ${Math.max(2,10-exercises.length)} ØªÙ…Ø§Ø±ÙŠÙ†</li><li>âœ“ Ø£Ø¶Ù ${Math.max(1,3-videos.length)} ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</li></ul></div>`;
            document.getElementById('ai-content').innerHTML=content;
        }

        function delLesson(id){if(confirm('Ø­Ø°ÙØŸ')){lessons=lessons.filter(l=>l.id!==id);update();}}
        function delVideo(id){if(confirm('Ø­Ø°ÙØŸ')){videos=videos.filter(v=>v.id!==id);update();}}
        function delExercise(id){if(confirm('Ø­Ø°ÙØŸ')){exercises=exercises.filter(e=>e.id!==id);update();}}

        function closeModal(id){document.getElementById(id).classList.remove('active');}
        window.onclick=e=>{if(e.target.classList.contains('modal'))e.target.classList.remove('active');};

        document.addEventListener('DOMContentLoaded',()=>update());
    </script>
</body>
</html>
